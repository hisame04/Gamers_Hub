<div class="gh-profile-name">
  <h1><%= @user.name %>уБоуГЪуГ╝уВ╕</h1>
</div>

<div class="gh-profile" style="display: flex;  gap: 15px; margin-top: 20px;"><%#цикуБлф╕жуБ╣уВЛ%>
  <%#уВвуВдуВ│уГ│чФ╗хГПуБошбичд║%>
  <div>
    <% if @user.photo.attached? %>
      <%= image_tag url_for(@user.photo), height: 150 %>
    <% else %>
      <%= image_tag "icon_temporary.png", height: 150 %>
    <% end %>
  </div>

  <div class="gh-profile-detail" style="display: block; gap 15x; margin-top: 0px"><%#ч╕жуБлф╕жуБ╣уВЛ%>
    <%#хРНхЙНуБошбичд║%>
    <p>хРНхЙНя╝Ъ<%= @user.name %></p>
    <%#цАзхИеуБошбичд║%>
    <p>цАзхИея╝Ъ
      <% case @user.gender%>
      <% when 1%>
        чФ╖цАз
      <% when 2%>
        хе│цАз
      <% when 3%>
        уБЭуБоф╗Ц
      <% when 4%>
        щЭЮхЕмщЦЛ
      <% else %>
        цЬкшинхоЪ
      <% end %>
    </p>
    <%#шЗкх╖▒ч┤╣ф╗ЛцЦЗуБошбичд║%>
    <p>шЗкх╖▒ч┤╣ф╗Ля╝Ъ<%= @user.introduction %></p>
  </div>
</div>

<%#уГЧуГмуВдуБЩуВЛуВ▓уГ╝уГауБошбичд║%>
<h2 class="mb-3 border-bottom pb-2">уГЧуГмуВдуБЩуВЛуВ▓уГ╝уГа</h2>
<div class="game-card-grid">
  <% @user.user_game_relations.each do |relation| %>
    <%#щБ╕цКЮуБЧуБЯуВ▓уГ╝уГауБошЙ▓уБохПЦх╛Ч%>
    <% theme_color = game_color(relation.game_title.name) %>
    <% text_color  = game_text_color(relation.game_title.name) %>

    <div class="gh-game-edit-card compact" style="border-color: <%= theme_color %>;">
        <%#уВ▓уГ╝уГауВ┐уВдуГИуГлуБошбичд║%>
        <div class="gh-game-edit-header" style="background-color: <%= theme_color %>;">
          <div class="header-label" style="color: <%= text_color %>;">GAME TITLE</div>
          <div class="gh-select-title" style="cursor: default;">
            <%= relation.game_title.name %>
          </div>
        </div>

        <div class="gh-game-edit-body">
          
          <%#уГЧуГмуВдуВ╣уВ┐уВдуГлуБошбичд║%>
          <div class="gh-input-section">
            <div class="gh-input-label">
              <span class="gh-icon-s">ЁЯФе</span> уГЧуГмуВдуВ╣уВ┐уВдуГл
            </div>
            <div class="gh-select-item">
              <%= relation.play_style_name %>
            </div>
          </div>
          
          <%#уГвуГ╝уГЙуБошбичд║%>
          <div class="gh-input-section">
            <div class="gh-input-label">
              <span class="gh-icon-s">ЁЯОо</span> уВИуБПщБКуБ╢уГвуГ╝уГЙ
            </div>
            
            <div class="gh-select-item">
              <% modes = [relation.game_mode, relation.game_mode_2].compact %>
              <% if modes.present? %>
                <%= modes.map(&:name).join(' / ') %>
              <% else %>
                <span style="color: #888;">цЬкшинхоЪ</span>
              <% end %>
            </div>
          </div> 

          <%#уВнуГгуГйуГ╗уГнуГ╝уГлуБошбичд║%>
          <div class="gh-input-section">
            <div class="gh-input-label">
              <span class="gh-icon-s">ЁЯСд</span> уВИуБПф╜┐уБЖуВнуГгуГйуГ╗уГнуГ╝уГл
            </div>
            <div class="gh-select-item">
              <% roles = [relation.game_role, relation.game_role_2].compact %>
              <% if roles.present? %>
                <%= roles.map(&:name).join(' / ') %>
              <% else %>
                <span style="color: #888;">цЬкшинхоЪ</span>
              <% end %>
            </div>
          </div>

        </div>
      </div>
  <% end %>

  <%#уВИуБПщБКуБ╢уВ▓уГ╝уГауБМчй║уБауБгуБЯуВЙ%>
  <% if @user.user_game_relations.empty? %>
    <div class="col-12">
      <p class="text-muted">уБ╛уБауВ▓уГ╝уГауГЧуГнуГХуВгуГ╝уГлуБМчЩ╗уБжуБДуБ╛уБЫуВУуАВ</p>
    </div>
  <% end %>
</div>

<div class="gh-profile-edit" style="display: flex; justify-content: center; gap: 15px; margin-top: 20px;">
  <%#шЗкхИЖуБоуГЪуГ╝уВ╕уБкуВЙ%>
  <% if current_user == @user %>
    <%#ч╖ищЫЖуГЬуВ┐уГ│%>
    <%= button_to "уГЧуГнуГХуВгуГ╝уГлч╖ищЫЖ", edit_user_path(@user), 
    method: :get, 
    class: "btn post-edit",
    style: "background-color: #7dd3fc; color: #000000; border: none; cursor: pointer; padding: 12px 30px; font-size: 1.1em; border-radius: 8px;" 
    %>  

    <%#уГСуВ╣уГпуГ╝уГЙхдЙцЫ┤уГЬуВ┐уГ│%>
    <%= button_to "уГСуВ╣уГпуГ╝уГЙхдЙцЫ┤", edit_user_registration_path, 
    method: :get, 
    class: "btn post-edit",
    style: "background-color: #7dd3fc; color: #000000; border: none; cursor: pointer; padding: 12px 30px; font-size: 1.1em; border-radius: 8px;" 
    %>  

    <%#уГнуВ░уВвуВжуГИуГЬуВ┐уГ│%>
    <%= button_to "уГнуВ░уВвуВжуГИ", destroy_user_session_path, 
      method: :delete, 
      class: "btn post-edit",
      style: "background-color: #7dd3fc; color: #000000; border: none; cursor: pointer; padding: 12px 30px; font-size: 1.1em; border-radius: 8px;" ,
      form: { data: { turbo_confirm: "уГнуВ░уВвуВжуГИуБЧуБжуВИуВНуБЧуБДуБзуБЩуБЛя╝Я" }, style: 'display:inline-block;'}
    %>  
  <% end %>
</div>


